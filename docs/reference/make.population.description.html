<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Creates a Population.Description object — make.population.description • dsims</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creates a Population.Description object — make.population.description"><meta name="description" content="Creates an object which describes a population. The values in this object
will be used to create instances of the population."><meta property="og:description" content="Creates an object which describes a population. The values in this object
will be used to create instances of the population."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dsims</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Function reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/GettingStarted.html">Getting started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/dsims-examples.html">Transition from `DSsim` to `dsims`</a></li>
    <li><a class="dropdown-item" href="../articles/dsims_grouped_strata.html">Grouped strata</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/distancesamp" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DistanceDevelopment/dsims/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Creates a Population.Description object</h1>
      <small class="dont-index">Source: <a href="https://github.com/DistanceDevelopment/dsims/blob/HEAD/R/ClassConstructors.R" class="external-link"><code>R/ClassConstructors.R</code></a></small>
      <div class="d-none name"><code>make.population.description.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates an object which describes a population. The values in this object
will be used to create instances of the population.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make.population.description</span><span class="op">(</span></span>
<span>  region <span class="op">=</span> <span class="fu">make.region</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  density <span class="op">=</span> <span class="fu"><a href="make.density.html">make.density</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  N <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  fixed.N <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-region">region<a class="anchor" aria-label="anchor" href="#arg-region"></a></dt>
<dd><p>the Region object in which this population exists (see make.region).</p></dd>


<dt id="arg-density">density<a class="anchor" aria-label="anchor" href="#arg-density"></a></dt>
<dd><p>the Density object describing the distribution of the individuals / clusters (see <a href="make.density.html">make.density</a>).</p></dd>


<dt id="arg-covariates">covariates<a class="anchor" aria-label="anchor" href="#arg-covariates"></a></dt>
<dd><p>Named list with one named entry per individual-level covariate. Cluster sizes can be defined here, it must be named 'size'. The distribution of covariate values can either be defined by specifying a particular distribution and its parameters or as a discrete distribution in a dataframe. Dataframes should have columns level and prob (and optionally strata) specifying the covariates levels, probabilities and strata if they are strata specific. Distributions can be defined as lists with named entries distribution and the relevant parameters as specified in details. A list of distributions can be provided with one for each strata.</p></dd>


<dt id="arg-n">N<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>the number of individuals / clusters in a population with one value per
strata. Total population size is 1000 by default.</p></dd>


<dt id="arg-fixed-n">fixed.N<a class="anchor" aria-label="anchor" href="#arg-fixed-n"></a></dt>
<dd><p>a logical value. If TRUE the population is generated from the value(s)
of N otherwise it is generated from the values in the density grid.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code><a href="Population.Description-class.html">Population.Description-class</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Individual-level covariate values can be defined as one of the following distributions: 'normal', 'poisson', 'ztruncpois' or 'lognormal'. The distribution name and the associated parameters as defined in the table below must be provided in a named list. Either one list can be provided for the entire study area or multiple lists grouped together as a list with one per strata.</p>
<table class="table table"><tr><td>Distribution</td><td>Parameters</td><td></td></tr><tr><td>normal</td><td>mean</td><td>sd</td></tr><tr><td>poisson</td><td>lambda</td><td></td></tr><tr><td>ztruncpois</td><td>mean</td><td></td></tr><tr><td>lognormal</td><td>meanlog</td><td>sdlog</td></tr></table></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="make.simulation.html">make.simulation</a></code> <code><a href="make.detectability.html">make.detectability</a></code> <code><a href="make.density.html">make.density</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Laura Marshall</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create a basic rectangular study area</span></span></span>
<span class="r-in"><span><span class="va">region</span> <span class="op">&lt;-</span> <span class="fu">make.region</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Make a density grid (large spacing for speed)</span></span></span>
<span class="r-in"><span><span class="va">density</span> <span class="op">&lt;-</span> <span class="fu"><a href="make.density.html">make.density</a></span><span class="op">(</span>region <span class="op">=</span> <span class="va">region</span>,</span></span>
<span class="r-in"><span>                        x.space <span class="op">=</span> <span class="fl">200</span>,</span></span>
<span class="r-in"><span>                        y.space <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>                        constant <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">density</span> <span class="op">&lt;-</span> <span class="fu"><a href="add.hotspot-methods.html">add.hotspot</a></span><span class="op">(</span><span class="va">density</span>, centre <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">100</span><span class="op">)</span>, sigma <span class="op">=</span> <span class="fl">250</span>, amplitude <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define some covariate values for out population</span></span></span>
<span class="r-in"><span><span class="va">covs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">covs</span><span class="op">$</span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"ztruncpois"</span>, mean <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define the population description</span></span></span>
<span class="r-in"><span><span class="va">popdsc</span> <span class="op">&lt;-</span> <span class="fu">make.population.description</span><span class="op">(</span>region <span class="op">=</span> <span class="va">region</span>,</span></span>
<span class="r-in"><span>                                      density <span class="op">=</span> <span class="va">density</span>,</span></span>
<span class="r-in"><span>                                      covariates <span class="op">=</span> <span class="va">covs</span>,</span></span>
<span class="r-in"><span>                                      N <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># define the detecability</span></span></span>
<span class="r-in"><span><span class="va">detect</span> <span class="op">&lt;-</span> <span class="fu"><a href="make.detectability.html">make.detectability</a></span><span class="op">(</span>key.function <span class="op">=</span> <span class="st">"hn"</span>, scale.param <span class="op">=</span> <span class="fl">25</span>, truncation <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate an example population</span></span></span>
<span class="r-in"><span><span class="va">pop</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate.population-methods.html">generate.population</a></span><span class="op">(</span><span class="va">popdsc</span>, region <span class="op">=</span> <span class="va">region</span>, detectability <span class="op">=</span> <span class="va">detect</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pop</span>, <span class="va">region</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make.population.description-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Multi-strata example (make sf shape)</span></span></span>
<span class="r-in"><span><span class="va">s1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>,ncol<span class="op">=</span><span class="fl">2</span>, byrow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">s2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span>,ncol<span class="op">=</span><span class="fl">2</span>, byrow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pol1</span> <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pol2</span> <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">s2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sfc</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="va">pol1</span>,<span class="va">pol2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">strata.names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low"</span>, <span class="st">"high"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sf.pol</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">st_sf</a></span><span class="op">(</span>strata <span class="op">=</span> <span class="va">strata.names</span>, geom <span class="op">=</span> <span class="va">sfc</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">region</span> <span class="op">&lt;-</span> <span class="fu">make.region</span><span class="op">(</span>region.name <span class="op">=</span> <span class="st">"Multi-strata Eg"</span>,</span></span>
<span class="r-in"><span>                      strata.name <span class="op">=</span> <span class="va">strata.names</span>,</span></span>
<span class="r-in"><span>                      shape <span class="op">=</span> <span class="va">sf.pol</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">density</span> <span class="op">&lt;-</span> <span class="fu"><a href="make.density.html">make.density</a></span><span class="op">(</span>region <span class="op">=</span> <span class="va">region</span>,</span></span>
<span class="r-in"><span>                        x.space <span class="op">=</span> <span class="fl">0.22</span>,</span></span>
<span class="r-in"><span>                        constant <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">80</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">covs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">covs</span><span class="op">$</span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"poisson"</span>, lambda <span class="op">=</span> <span class="fl">25</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>distribution <span class="op">=</span> <span class="st">"poisson"</span>, lambda <span class="op">=</span> <span class="fl">15</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">covs</span><span class="op">$</span><span class="va">sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"female"</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.6</span>, <span class="fl">0.4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      strata <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"low"</span>,<span class="fl">2</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"high"</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define the population description (this time using the density to determine</span></span></span>
<span class="r-in"><span><span class="co"># the population size)</span></span></span>
<span class="r-in"><span><span class="va">popdesc</span> <span class="op">&lt;-</span> <span class="fu">make.population.description</span><span class="op">(</span>region <span class="op">=</span> <span class="va">region</span>,</span></span>
<span class="r-in"><span>                                       density <span class="op">=</span> <span class="va">density</span>,</span></span>
<span class="r-in"><span>                                       covariates <span class="op">=</span> <span class="va">covs</span>,</span></span>
<span class="r-in"><span>                                       fixed.N <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># define the detecability (see make.detectability to alter detection function</span></span></span>
<span class="r-in"><span><span class="co"># for different covariate values)</span></span></span>
<span class="r-in"><span><span class="va">detect</span> <span class="op">&lt;-</span> <span class="fu"><a href="make.detectability.html">make.detectability</a></span><span class="op">(</span>key.function <span class="op">=</span> <span class="st">"hn"</span>, scale.param <span class="op">=</span> <span class="fl">25</span>, truncation <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># generate an example population</span></span></span>
<span class="r-in"><span><span class="va">pop</span> <span class="op">&lt;-</span> <span class="fu"><a href="generate.population-methods.html">generate.population</a></span><span class="op">(</span><span class="va">popdesc</span>, region <span class="op">=</span> <span class="va">region</span>, detectability <span class="op">=</span> <span class="va">detect</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pop</span>, <span class="va">region</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make.population.description-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>We improve our site and software support by using Microsoft Clarity to see <br> how you use our website. By using our site, you agree that we and Microsoft <br> can collect and use this data. Clarity is GDPR compliant.</p>
</div>

<div class="pkgdown-footer-right">
  <p>If you wish to donate to development and maintenance, please <a href="mailto:distance@st-andrews.ac.uk">email us</a>.</p>
</div>

    </footer></div>





  </body></html>

